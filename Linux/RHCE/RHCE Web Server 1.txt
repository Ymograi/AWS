Link to this file is in the description below

## Server1

yum install httpd lynx elinks vim -y;sleep 2;c
yum group install "Basic Web server" -y;sleep 2;c
ps aux | grep http;sleep 2;c
systemctl status httpd;sleep 2;c
firewall-cmd --permanent --add-service={http,https};sleep 2;c
firewall-cmd --reload;sleep 2;c
systemctl enable httpd;sleep 2;c
systemctl start httpd;sleep 2;c
systemctl status httpd;sleep 2;c
ps aux | grep http;sleep 2;c
cd /var/www/html/;sleep 2;c
echo "This is my new website" > index.html;sleep 2;c
httpd -t;sleep 2;c
elinks http://localhost;sleep 2;c

### Private Directories ### 
echo '192.168.0.100 testweb.ourexample.com' >> /etc/hosts;sleep 2;c
sed -ie 's/root@localhost/root@testweb.ourexample.com/g' /etc/httpd/conf/httpd.conf;sleep 2;c
echo "ServerName testweb.ourexample.com" >> /etc/httpd/conf/httpd.conf;sleep 2;c
systemctl restart httpd;sleep 2;c
httpd -t;sleep 2;c
#elinks http://testweb.ourexample.com;
useradd user1;sleep 2;c
echo p | passwd --stdin user1;sleep 2;c
mkdir /var/user1dir;sleep 2;c
chown user1:user1 /var/user1dir;sleep 2;c
chmod 0711 /var/user1dir;sleep 2;c
cd /var/user1dir/;sleep 2;c
echo "This is the User1 version of the index.html" > index.html;sleep 2;c
semanage fcontext -at httpd_sys_content_t "/var/user1dir(/.*)?";sleep 2;c
restorecon -R /var/user1dir/;sleep 2;c
ll -Z /var/user1dir/;sleep 2;c
cd /etc/httpd/conf/;sleep 2;c
sed -ie 's/^DocumentRoot/#DocumentRoot/g' /etc/httpd/conf/httpd.conf;sleep 2;c
echo 'DocumentRoot "/var"
<Directory /var/user1dir>
AllowOverride AuthConfig
</Directory>' > /etc/httpd/conf/httpd.conf
httpd -t;sleep 2;c
echo 'AuthType Basic
AuthName "Password Protect Private Directory - Enter Login Credentials"
AuthUserFile "/etc/httpd/conf/.userdb"
Require user user1' > /var/user1dir/.htaccess; sleep 2;c
cd /etc/httpd/conf;sleep 2;c

htpasswd -c .userdb user1;sleep 2;c
cat .userdb;sleep 2;c
chgrp apache .userdb;sleep 2;c
chmod 0640 .userdb;sleep 2;c
systemctl restart httpd;sleep 2;c
elinks http://testweb.ourexample.com/user1dir

#### Configure Group Managed Content####

mkdir /var/private;sleep 2;c
groupadd dbadmnis;sleep 2;c
useradd user5;sleep 2;c
echo p | passwd --stdin user5;sleep 2;c
useradd user6;sleep 2;c
echo p | passwd --stdin user6;sleep 2;c
usermod -G dbadmins user5;
usermod -G dbadmins user6;
chgrp dbadmins /var/private;sleep 2;c
chmod 0771 /var/private;sleep 2;c
echo "This is the DBADMINS index.html in /var/private" > /var/private/index.html;sleep 2;c
semanage fcontext -at httpd_sys_content_t "/var/private(/.*)?";sleep 2;c
restorecon -R /var/private;sleep 2;c
echo 'DocumentRoot "/var/private"
<Directory /var/private>
AllowOverride AuthConfig
</Directory>' >> /etc/httpd/conf/httpd.conf; sleep 2;c
cd /var/private;sleep 2;c
echo 'AuthType Basic
AuthName "Password Protect DBADMIN content - Enter Login Credentials"
AuthUserFile "/etc/httpd/conf/.grouppassworddb"
AuthGroupFile "etc/httpd/conf/.groupdb"
Require group dbadmins' > .htaccess;sleep 2;c
cd /var/private;sleep 2;c
echo 'dbadmins : user5 user6' > .groupdb;sleep 2;c
chgrp apache .groupdb;sleep 2;c
chmod 0640 .groupdb;sleep 2;c
htpasswd -c .grouppassworddb user5;sleep 2;c
htpasswd  .grouppassworddb user6;sleep 2;c
systemctl restart httpd;sleep 2;c
elinks http://testweb.ourexample.com/private



#### Http Man Pages ###

yum provides *\sealert *\semanage *\sepolicy
yum install -y policycoreutils-python policycoreutils-devel setroubleshoot-server
sepolicy manpage -a -p /usr/share/man/man8
mandb
man -k _selinux 
semanage port --list | grep http



vim /etc/httpd/conf/httpd.conf








