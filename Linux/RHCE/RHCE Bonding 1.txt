nmcli c del enp0s3 enp0s8;sleep 3;c
nmcli c s;sleep 3;c

nmcli c add type bond con-name mybond0 ifname mybond0 mode active-backup


nmcli c s;sleep 3;c
nmcli con mod myteam0 ipv4.addresses '192.168.0.111/24';sleep 3;c
hostname -I;sleep 3;c
nmcli con mod myteam0 ipv4.method manual;sleep 3;c
nmcli con add type team-slave con-name myteam0-port1 ifname enp0s3 master myteam0;sleep 3;c
nmcli con add type team-slave con-name myteam0-port2 ifname enp0s8 master myteam0;sleep 3;c

teamdctl myteam0 state;sleep 3;c
nmcli dev dis enp0s3;sleep 3;c
teamdctl myteam0 state;sleep 3;c
nmcli con up myteam0-port1;sleep 3;c
teamdctl myteam0 state;sleep 3;c




nmcli con add type team con-name myteam0 ifname myteam0 config '{"runner":{"name": "activebackup"}}';sleep 3;c


#Bonding

nmcli c add type bond ifname mybond0 con-name mybond0 mode active-backup;
nmcli c add type bond-slave con-name slave1 ifname enp0s3 master mybond0;
nmcli c add type bond-slave con-name slave2 ifname enp0s8 master mybond0;

nmcli con mod mybond0 ipv4.addresses 10.8.8.71/24 ipv4.gateway 10.8.8.2 ipv4.dns 10.8.8.70 ipv4.dns-search rhce.local ipv4.method manual;

nmcli c up slave1; nmcli c up slave2;
nmcli c up mybond0;

nmcli c;