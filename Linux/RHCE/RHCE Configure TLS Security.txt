
yum install -y openssl elinks;c
yum group install "Basic Web Server" -y;c
systemctl start httpd;c
systemctl enable httpd;c
elinks http://localhost
echo "ServerName server1.example.com" >> /etc/httpd/conf/httpd.conf;
systemctl restart httpd





echo "192.168.0.100 server1.example.com" >> /etc/hosts;c

cd /etc/pki/tls/certs/ ;c
openssl genpkey -algorithm  rsa -pkeyopt rsa_keygen_bits:2048 -out testweb.ourexample.com.key;c
ll;c
cat server1.example.com.key;c
openssl req -new -key testweb.ourexample.com.key -out testweb.ourexample.com.csr;c
cat server1.example.com.csr;c
openssl x509 -req -days 365 -signkey testweb.ourexample.com.key -in testweb.ourexample.com.csr -out testweb.ourexample.com.crt;c
openssl s_client -connect localhost:443 -state;c

echo '<VirtualHost *:443>
 DocumentRoot "/var/www/html/ourexample"
 ServerName testweb.ourexample.com:443
 SSLCertificateFile /etc/pki/tls/certs/testweb.ourexample.com.crt
 SSLCertificateKeyFile /etc/pki/tls/certs/testweb.ourexample.com.key
</VirtualHost>' >> /etc/httpd/conf.d/ssl.conf;c

mkdir /var/www/html/ourexample;c
cd /var/www/html/ourexample;c
echo "This is a SecureWebsite Now" > index.html;c
restorecon -Rv /var/www/html/ourexample;c
firewall-cmd --permanent --add-service={https,http};c
firewall-cmd --reload;c
systemctl restart httpd;c
elinks http://localhost




echo '<VirtualHost *:443>
ServerAdmin admin@testweb.ourexample.com
DocumentRoot /var/www/html/ourexample
ServerName testweb.ourexample.com
ErrorLog logs/vhost1-error_log
CustomLog logs/vhost1-access_log combined
</VirtualHost>' > /etc/httpd/conf.d/testweb.ourexample.com.conf


