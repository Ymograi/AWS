
# Amazon CloudWatch
***
### **Definition** 

-   Amazon CloudWatch is a monitoring and management service built for developers, system operators, site reliability engineers (SRE), and IT managers.

-   CloudWatch collects monitoring and operational data in the form of logs, metrics, and events, providing you with a unified view of AWS resources, applications and services that run on AWS, and on-premises servers

-   Amazon CloudWatch Events (CWE) is a stream of system events describing changes in your AWS resources. The events stream augments the existing CloudWatch Metrics and Logs streams to provide a more complete picture of the health and state of your applications. You write declarative rules to associate events of interest with automated actions to be taken.

***
### **IAM Features** 

-   **ACCESS ALL YOUR DATA FROM A SINGLE PLATFORM :** Monitoring your AWS resources is easy with Amazon CloudWatch. CloudWatch is natively integrated with more than 70 AWS services such as Amazon EC2, Amazon DynamoDB, Amazon S3, Amazon ECS, AWS Lambda, Amazon API Gateway, etc. that automatically publish detailed 1-minute metrics and custom metrics with up to 1-second granularity. 

-   **RICHEST AND DEEPEST INSIGHTS FOR AWS RESOURCES :** You can use AWS Systems Manager to install a CloudWatch Agent, or you can use the CloudWatch API to easily collect, publish, and store this data in CloudWatch.

-   **VISIBILITY ACROSS YOUR APPLICATIONS, INFRASTRUCTURE, AND SERVICES :** Gaining visibility across your distributed stack means correlating and visualizing metrics and logs to quickly pinpoint and resolve issues. With Amazon CloudWatch, you can visualize key metrics like CPU utilization and memory. You can also correlate a log pattern, e.g. error to a specific metric to quickly get the context and go from diagnosing the problem to understanding the root cause

-   **REDUCE MEAN TIME TO RESOLUTION (MTTR) AND IMPROVE TOTAL COST OF OWNERSHIP (TCO) :** Amazon CloudWatch enables you to set high resolution alarms and take automated actions. This means freeing up important resources to focus on adding business value. For example, you can get alerted on Amazon EC2 instances and set up Auto Scaling to add or remove instances. You can also execute automated responses to detect and shut down unused EC2 resources, reducing billing overages and improving resource optimization

-   **DRIVE INSIGHTS TO OPTIMIZE APPLICATIONS AND OPERATIONAL RESOURCES :** You need a unified operational view, real-time granular data, and historical reference to optimize performance and resource utilization. With Amazon CloudWatch, you get enhanced monitoring with 1-second granularity and up to 15 months of metrics storage and retention. You can also leverage native CloudWatch features, such as Metric Math, to perform calculations on your metric data. For example, you can aggregate usage across an entire fleet of EC2 instances to derive operational and utilization insights.

-   **PAY AS YOU GO :** With Amazon CloudWatch, there is no up-front commitment or minimum fee; you simply pay for what you use. You will be charged at the end of the month for your usage.

-   **Real time application and system monitoring:** -  You can use CloudWatch Logs to monitor applications and systems using log data. For example, CloudWatch Logs can track the number of errors that occur in your application logs and send you a notification whenever the rate of errors exceeds a threshold you specify. CloudWatch Logs uses your log data for monitoring; so, no code changes are required.

-   **Long term log retention:** -  You can use CloudWatch Logs to store your log data indefinitely in highly durable and cost effective storage without worrying about hard drives running out of space. The CloudWatch Logs Agent makes it easy to quickly move both rotated and non rotated log files off of a host and into the log service. You can then access the raw log event data when you need it.
***
### **Important Points** 
-   Amazon CloudWatch can be accessed via API, command-line interface, AWS SDKs, and the AWS Management Console
    
-   Amazon CloudWatch Logs lets you monitor and troubleshoot your systems and applications using your existing system, application and custom log files
    
-   The CloudWatch Logs Agent is integrated with Identity and Access Management (IAM) and includes support for both access keys and IAM roles.
    
-   Metrics are provided automatically for a number of AWS products and services, including Amazon EC2 instances, EBS volumes, Elastic Load Balancers, Auto Scaling groups, EMR job flows, RDS DB instances, DynamoDB tables, ElastiCache clusters, RedShift clusters, OpsWorks stacks, Route 53 health checks, SNS topics, SQS queues, SWF workflows, and Storage Gateways
    
-   You can also monitor custom metrics generated by your own applications and services.
    
-   CloudWatch does not support metric deletion. Metrics expire based on the retention schedules described above

-   Amazon CloudWatch stores metrics for terminated Amazon EC2 instances or deleted Elastic Load Balancers for 15 months.

-   A custom metric can be one of the following:

    -   Standard resolution, with data having one-minute granularity
    -   High resolution, with data at a granularity of one second

-   Currently, only custom metrics that you publish to CloudWatch are available at high resolution.

-   High-resolution custom metrics are priced in the same manner as standard 1-minute custom metrics.

-   You can retrieve any of your log data using the CloudWatch Logs console or through the CloudWatch Logs CLI

-   You can use the CLI to retrieve your log events and search through them using command line grep or similar search functions.

-   You can create an alarm to monitor any Amazon CloudWatch metric in your account. For example, you can create alarms on an Amazon EC2 instance CPU utilization, Amazon ELB request latency, Amazon DynamoDB table throughput, Amazon SQS queue length, or even the charges on your AWS bill.

-   When you create an alarm, you can configure it to perform one or more automated actions when the metric you chose to monitor exceeds a threshold you define. For example, you can set an alarm that sends you an email, publishes to an SQS queue, stops or terminates an Amazon EC2 instance, or executes an Auto Scaling policy. Since Amazon CloudWatch alarms are integrated with Amazon Simple Notification Service, you can also use any notification type supported by SNS.

-   Amazon CloudWatch Dashboards allow you to create, customize, interact with, and save graphs of AWS resources and custom metrics.

-   You can use CloudWatch Dashboards to monitor your applications and resources to quickly identify issues that might be impacting the health of your applications

-   Dashboards will auto refresh while you have them open

-   When an event matches a rule you've created in the system, you can automatically invoke an AWS Lambda function, relay the event to an Amazon Kinesis stream, notify an Amazon SNS topic, or invoke a built-in workflow.

-   CloudWatch Events is a near real time stream of system events that describe changes to your AWS resources. With CloudWatch Events, you can define rules to monitor for specific events and perform actions in an automated manner. AWS CloudTrail is a service that records API calls for your AWS account and delivers log files containing API calls to your Amazon S3 bucket or a CloudWatch Logs log group. With AWS CloudTrail, you can look up API activity history related to creation, deletion and modification of AWS resources and troubleshoot operational or security issues.

-   AWS Config is a fully managed service that provides you with an AWS resource inventory, configuration history, and configuration change notifications to enable security and governance. Config rules help you determine whether configuration changes are compliant. CloudWatch Events is for reacting in near real time to resource state changes. It doesnâ€™t render a verdict on whether the changes comply with policy or give detailed history like Config/Config Rules do. It is a general purpose event stream.
***
### **Best Practices** 

-   Use a drill-down monitoring approach

-   Collect and analyze data from all areas of your AWS environment

-   Automate tasks  

-   Test systems at production and simulate common cloud occurrences 

***
